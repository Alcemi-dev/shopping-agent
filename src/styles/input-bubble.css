/* InputBubble — top-only LIGHT overlay that sits ABOVE text */

/* Konteineris: stacking + clipping */
.input-wrap.input-bubble {
  position: relative;
  overflow: hidden; /* kad glow gražiai nusikirptų */
  border-radius: var(--radius-md);
  background: #fff;
  border: 1px solid var(--chip-border);
  z-index: 0; /* bazinis sluoksnis */
}

/* Jei seniau buvo pseudo-glow (viršus/apačia) — išjungiam */
.input-wrap.input-bubble::before,
.input-wrap.input-bubble::after {
  content: none !important;
}

/* Tekstas po overlay (z:1), bet virš background */
.input-wrap.input-bubble .input-field {
  position: relative;
  z-index: 1;
  background: transparent; /* kad overlay „lipdytųsi“ ant teksto */
  font-size: var(--fs-16);
  line-height: var(--lh-relaxed);
  padding: var(--space-3) var(--space-12) var(--space-3) var(--space-4);
  border-radius: inherit;
}

/* Voice/send action turi likti virš overlay (z:3) ir būti paspaudžiamas */
.input-wrap.input-bubble .input-action {
  position: absolute;
  right: 0.5rem;
  top: 50%;
  transform: translateY(-50%);
  z-index: 3; /* virš overlay */
  color: var(--color-ink);
}

/* Viršutinis ŠVIESUS overlay (z:2) — eina ant teksto */
.input-wrap.input-bubble .input-fade-top {
  --fade-h: 42px; /* koreguok 32–48px pagal skonį */
  pointer-events: none; /* neblokuoja scroll/klikų */
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  height: var(--fade-h);
  z-index: 2; /* virš teksto (z:1), po action (z:3) */
  border-top-left-radius: inherit;
  border-top-right-radius: inherit;

  /* ŠVIESUS gradientas: nuo beveik baltos į skaidrumą */
  background: linear-gradient(
    to bottom,
    rgba(255, 255, 255, 0.98) 0%,
    rgba(245, 248, 255, 0.92) 55%,
    rgba(255, 255, 255, 0) 100%
  );

  opacity: 0; /* rodome tik kai reikia */
  transition: opacity var(--dur-1, 120ms) var(--easing-std, ease);
}

/* Rodyti, kai yra overflow arba vartotojas nuslinkęs žemyn */
.input-wrap.input-bubble.has-overflow .input-fade-top,
.input-wrap.input-bubble.scrolled .input-fade-top {
  opacity: 1;
}
